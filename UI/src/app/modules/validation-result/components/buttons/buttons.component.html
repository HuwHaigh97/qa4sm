<!--Buttons shown on the validation list page (both custom and published)-->
<div *ngIf="validationList" class="col-sm" style="text-align: right; max-width: 16rem">
  <button *ngIf="validationRun.progress > -1 && validationRun.progress < 100 && validationRun.end_time === null"
          class="btn btn-sm btn-primary btn-action" title="Cancel validation" (click)="basicOnclick(validationRun)">
    <span><fa-icon [icon]="faIcons.faStop"></fa-icon></span></button>
  <a class="btn btn-sm btn-primary btn-action" routerLink="/validation-result/{{validationRun.id}}"
     title="View results"><span class="pi pi-folder-open"></span></a>

  <span *ngIf="validationRun.end_time && validationRun.is_unpublished"
        [ngClass]="{'patchButtonGroup': true,  'collapse': validationRun.publishing_in_progress}">

    <button *ngIf="validationRun.is_archived" class="btn btn-sm btn-primary btn-action" title="Un-archive"
            (click)="basicOnclick(validationRun)"><span class="pi pi-calendar"></span></button>

    <button *ngIf="!validationRun.is_archived" class="btn btn-sm btn-primary btn-action" title="Archive"
            (click)="basicOnclick(validationRun)"><span><fa-icon [icon]="faIcons.faArchive"></fa-icon></span></button>
  </span>

  <div *ngIf="validationRun.is_unpublished" class="dropdown">
    <button class="dropdownbutton">
      <span class="pi pi-angle-double-right"> </span>
    </button>
    <div class="dropdown-content" style="text-align: left">
      <div *ngIf="validationRun.output_file">
        <button class="dropdown-item"
                (click)="basicOnclick(validationRun)"
                title="Download graphs .zip">
          <span class="pi pi-download"></span>
          Download Graphs
        </button>
        <button class="dropdown-item"
                (click)="basicOnclick(validationRun)"
                title="Download validation run .nc file">
          <span><fa-icon [icon]="faIcons.faFileDownload"></fa-icon></span>
          Download NetCDF File
        </button>
        <a class="no-decorations"
           routerLink="/validate/"
           [queryParams]="{valrun_uuid: validationRun.id}"
           title="Load validation settings">
          <span class="dropdown-item"><fa-icon [icon]="faIcons.faRedo"></fa-icon> Load Validation Settings</span>
        </a>
        <!--        <button class="dropdown-item"-->
        <!--                (click)="basicOnclick(validationRun)"-->
        <!--                title="Restore settings from this validation">-->
        <!--          <span><fa-icon [icon]="faIcons.faRedo"></fa-icon></span>-->
        <!--          Load Validation Settings-->
        <!--        </button>-->
      </div>

      <span [ngClass]="{'patchButtonGroup': true,  'collapse': validationRun.publishing_in_progress}">
        <button class="dropdown-item"
                title="Remove this validation run"
                (click)=basicOnclick(validationRun)>
          <span class="pi pi-times"></span>
          Delete Validation Run
        </button>
        <button *ngIf="!validationRun.is_archived" class="dropdown-item"
                title="Extend lifespan of this validation run"
                (click)=basicOnclick(validationRun)>
          <span class="pi pi-calendar-plus"></span>
          Extend Life Span
        </button>
      </span>
    </div>
  </div>

  <span *ngIf="!validationRun.is_unpublished">
    <a class="btn btn-sm btn-primary btn-action" routerLink="/validate/" [queryParams]="{valrun_uuid: validationRun.id}"
       title="Load validation settings"><span><fa-icon [icon]="faIcons.faRedo"></fa-icon></span></a>

<!--    {% if current_user %}-->
<!--    {% if valrun not in copied_runs %}-->
<!--    <button class="btn btn-sm btn-primary btn-action" title="Track this validation"-->
<!--            onclick="ajax_attach_validation('{{ valrun.id}}')"><span class="fas fa-plus"></span></button>-->
<!--    {% else %}-->
<!--    <button class="btn btn-sm btn-primary btn-action" title="Remove this validation from your list"-->
<!--            onclick="ajax_detach_validation('{{ valrun.id }}', false)"><span class="fas fa-times"></span></button>-->
<!--    {% endif %}-->
<!--    {% endif %}-->

  </span>

</div>

<!--Buttons shown on the validation list page (both custom and published)-->
<div *ngIf="!validationList" class="col-sm" style="text-align: right; max-width: 25rem">

<!--  {% if is_owner and val.is_unpublished %}-->
<!--  <div style="float: right" class="patchButtonGroup{% if val.publishing_in_progress %} collapse {% endif %}">-->
<!--    <button class="btn btn-sm btn-primary" title="Remove result" onclick="ajax_delete_result('{{ val.id }}', true)"><span class="fas fa-times"></span> Remove</button>-->
<!--    {% if val.is_archived %}-->
<!--    <button class="btn btn-sm btn-primary" title="Un-archive" onclick="ajax_archive_result('{{ val.id }}', false)"><span class="fas fa-calendar-alt"></span> Un-archive</button>-->
<!--    {% else %}-->
<!--    <button class="btn btn-sm btn-primary" title="Extend lifespan" onclick="ajax_extend_result('{{ val.id }}', true)"><span class="fas fa-calendar-plus"></span> Renew</button>-->
<!--    <button class="btn btn-sm btn-primary" title="Archive" onclick="ajax_archive_result('{{ val.id }}', true)"><span class="fas fa-archive"></span> Archive</button>-->
<!--    {% endif %}-->
<!--    {% if val.output_file %}-->
<!--    <button type="button" title="Publish on Zenodo" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#publishDialog">-->
<!--      <span class="fas fa-book" ></span> Publish-->
<!--    </button>-->
<!--    {% endif %}-->
<!--    <a class="btn btn-sm btn-primary" title="Load settings" href="{% url 'validation' %}?valrun_uuid={{ val.id }}"><span class="fas fa-redo"></span> Load settings</a>-->
<!--  </div>-->
<!--  {% if val.output_file %}-->
<!--  <div class="publishingNote small text-muted {% if not val.publishing_in_progress %} collapse {% endif %}" style="float: right">-->
<!--    <div class="spinner-border spinner-border-sm" role="status"><span class="sr-only">Publishing in progress...</span></div>-->
<!--    Publishing in progress...-->
<!--  </div>-->
<!--  {% endif %}-->
<!--  {% else %}-->
<!--  <div style="float: right;" class="patchButtonGroup">-->
<!--    <a class="btn btn-sm btn-primary" title="Load settings" href="{% url 'validation' %}?valrun_uuid={{ val.id }}"><span class="fas fa-redo"></span> Load settings</a>-->
<!--    {% if current_user %}-->
<!--    {% if is_copied %}-->
<!--    <button class="btn btn-sm btn-primary" title="Remove this validation from your list" onclick="ajax_detach_validation('{{ val.id }}', false)"><span class="fas fa-times"></span> Untrack </button>-->
<!--    {% else %}-->
<!--    <button class="btn btn-sm btn-primary" title="Track this validation" onclick="ajax_attach_validation('{{ val.id}}')"><span class="fas fa-plus"></span> Track </button>-->
<!--    {% endif %}-->
<!--    {% endif %}-->
<!--  </div>-->
<!--  {% endif %}-->


</div>
